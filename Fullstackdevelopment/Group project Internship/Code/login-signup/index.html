<!DOCTYPE html>
<html>
<head>
	<title> Login & Registration Form </title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700,800&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    $(document).ready(function(){
      $("#btnsignin").click(function(){
        debugger;
        var data = {};
        data.email = $("#email").val();
        data.password = $("#password").val();
        $.ajax({
          type:"POST",
          url:"http://localhost:4001/login/",
          data:JSON.stringify(data),
          contentType:"application/json; charsetutf-8",
          dataType:"json",
          success:function(d){
            if(d.code == 400 ){
              swal("oops!", "Invalid email and password!", "error");
            }
            swal("welcome Back!", "let's roll!", "success");
            window.location.href="Quiz\start.html"; 
          },
          error:function(jqxhr){
            swal("oops!", "There seems to be an error!", "error");
          } 
        });
      });
      $("#btnsignup").click(function(){
        
        debugger;
        var a = 0;
        var data = {};
        data.username = $('#username1').val();
        data.email = $("#email1").val();
        data.password = $("#password1").val();
        //validation here
        $.ajax({
          type: "POST",
          url: "http://localhost:4001/register/",
          data: JSON.stringify(data),
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function (data1) {
          if(data1.code  == 400){
            //swal("oops!", "Invalid Credentials!", "error");
            swal("wow!", "Data is inserted!", "success");
            return false;
          }
          swal("wow!", "Data is inserted!", "success");                           
          },
          error:function(jqxhr){
            swal("oops!", "Invalid Credentials!", "error");
          }
        });
      });
    });
  </script>
</head>
<body>
  <div class="cont">
    <div class="form  sign-in">
      <h2>Sign In</h2>
      <label><span>Email Address</span>
        <input type="email" name="email" id="email" required >
      </label>
      <label><span>Password</span>
        <input type="password" name="password" id="password" required>
      </label>
      <button class="submit" type="button" id="btnsignin">Sign In</button>
     <a href="forgot.html" target="_blank"><p class="forgot-pass">Forgot Password ?</p></a> 
      <div class="social-media">
        <ul>
          <li><img src="images/facebook.png"></li>
          <li><img src="images/twitter.png"></li>
          <li><img src="images/linkedin.png"></li>
          <li><img src="images/instagram.png"></li>
        </ul>
      </div>
    </div>

    <div class="sub-cont">
      <div class="img">
        <div class="img-text m-up">
          <h2>New here?</h2>
          <p>Sign up and discover great amount of new opportunities!</p>
        </div>
        <div class="img-text m-in">
          <h2>One of us?</h2>
          <p>If you already has an account, just sign in. We've missed you!</p>
        </div>
        <div class="img-btn">
          <span class="m-up">Sign Up</span>
          <span class="m-in">Sign In</span>
        </div>
      </div>
      <div class="form sign-up">
        <h2>Sign Up</h2>
        <form method="POST" action="" class="form" id="form"> 
          <label class="form-control "><span>Name</span>
            <input type="text" id = "username1" required>
          </label>
          <label class="form-control "><span>Email</span>
            <input type="email" id="email1" required>
          </label>
          <label class="form-control"><span>Password</span>
            <input type="password" id="password1" required>
          </label>
          <label class="form-control"><span>Confirm Password</span>
            <input type="password " id="password2" required>
          </label>
          <button type="button" class="submit" onclick="myFunction()" id="btnsignup">Sign Up Now</button>
        </form>
      </div>
    </div>
  </div>
<script type="text/javascript" src="script.js"></script>
</body>
</html>